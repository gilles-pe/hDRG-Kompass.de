<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="%BASE_URL%hdrg_kompass.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="canonical" href="https://www.hdrg-kompass.de/" />
    <title>hDRG-Kompass</title>
    <style>
      .announce-banner {
        position: sticky;
        top: 0;
        z-index: 50;
        display: flex;
        align-items: center;
        justify-content: space-between;
        gap: 1rem;
        padding: 0.7rem 1rem;
        background: linear-gradient(135deg, rgba(224, 242, 240, 0.78), rgba(230, 246, 255, 0.7));
        color: #1f2933;
        border-bottom: 1px solid rgba(15, 93, 100, 0.18);
        box-shadow: 0 12px 28px rgba(15, 93, 100, 0.1);
        backdrop-filter: blur(16px) saturate(1.2);
        font-size: 0.92rem;
        overflow: hidden;
      }

      .announce-banner__text {
        display: flex;
        flex-wrap: wrap;
        gap: 0.5rem;
        align-items: center;
      }

      .announce-banner__cta {
        color: #0f5d64;
        font-weight: 600;
        text-decoration: underline;
        text-underline-offset: 3px;
        white-space: nowrap;
      }

      .announce-banner::before {
        content: '';
        position: absolute;
        top: -50%;
        left: -30%;
        width: 20%;
        height: 200%;
        background: linear-gradient(
          120deg,
          transparent 0%,
          rgba(255, 255, 255, 0.35) 40%,
          rgba(255, 255, 255, 0.75) 50%,
          rgba(255, 255, 255, 0.35) 60%,
          transparent 100%
        );
        transform: translateX(-120%);
        animation: banner-sparkle 6s ease-in-out infinite;
        pointer-events: none;
      }

      @keyframes banner-sparkle {
        0%,
        70% {
          transform: translateX(-120%);
          opacity: 0;
        }
        80% {
          opacity: 0.8;
        }
        100% {
          transform: translateX(620%);
          opacity: 0;
        }
      }

      .announce-banner__close {
        border: none;
        background: transparent;
        color: #5f6c76;
        font-size: 1.1rem;
        cursor: pointer;
        line-height: 1;
        padding: 0.2rem 0.4rem;
      }

      @media (max-width: 720px) {
        .announce-banner {
          padding: 0.65rem 0.8rem;
          font-size: 0.88rem;
        }
      }
    </style>
  </head>
  <body>
    <div class="announce-banner" data-announce-banner>
      <div class="announce-banner__text">
        <span>
          Deine Expertise hilft doppelt: Wir spenden an ein Kinderhospiz für jede Teilnahme an unserer
          Studie zur HDRG-Vorbereitung in Praxen.
        </span>
        <a
          class="announce-banner__cta"
          href="https://form.typeform.com/to/WTmiFoUU"
          target="_blank"
          rel="noreferrer"
        >
          Jetzt teilnehmen
        </a>
      </div>
      <button class="announce-banner__close" type="button" aria-label="Banner schließen">
        ×
      </button>
    </div>
    <div id="root"></div>
    <script>
      (function () {
        if (window.location.search.startsWith('?/')) {
          var path = window.location.search.slice(2);
          var newUrl = window.location.pathname + path.replace(/~and~/g, '&') + window.location.hash;
          window.history.replaceState(null, '', newUrl);
        }
      })();
    </script>
    <script>
      (function () {
        var key = 'hdrg_announce_banner_dismissed';
        var dismissDurationMs = 5 * 24 * 60 * 60 * 1000;
        var banner = document.querySelector('[data-announce-banner]');
        if (!banner) return;
        var dismissedValue = window.localStorage.getItem(key);
        if (dismissedValue) {
          var dismissedAt = Number(dismissedValue);
          if (Number.isFinite(dismissedAt)) {
            if (Date.now() - dismissedAt < dismissDurationMs) {
              banner.style.display = 'none';
              return;
            }
            window.localStorage.removeItem(key);
          } else if (dismissedValue === '1') {
            // Legacy value from older behavior: allow banner to show again.
            window.localStorage.removeItem(key);
          }
        }
        var closeBtn = banner.querySelector('.announce-banner__close');
        if (closeBtn) {
          closeBtn.addEventListener('click', function () {
            banner.style.display = 'none';
            window.localStorage.setItem(key, String(Date.now()));
          });
        }
      })();
    </script>
    <script type="module" src="/src/main.tsx"></script>
  </body>
</html>
